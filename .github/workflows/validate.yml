name: VALIDATE

on:
  push:
    branches:
      - "**"
      - "!master"
  pull_request:
  workflow_call:

jobs:
  debug:
    name: Debug
    runs-on: ubuntu-latest
    steps:
      - name : Debug
        env : { GITHUB : "${{ toJson(github) }}" }
        run: echo "$GITHUB" | jq

  validate:
    name: Validate
    # Only run on push, or on PR from forks.
    # This avoid running it twice on PRs from local branches
    if: |
      (github.event_name == 'push') ||
      (github.event_name == 'pull_request' && github.event.pull_request.head.repo.fork)
    runs-on: ubuntu-latest
    steps:
      - name: ðŸš¦ Test
        run: echo "Running tests" && true
