name: "VALIDATE"
run-name: ðŸ¤– Validating code on ${{ github.ref_name }}

on:
  push:
  pull_request:

jobs:
  validate:
    name: ${{ github.workflow }} / ${{ github.event_name }} / ${{ github.base_ref }} / ${{ github.head_ref }}
    runs-on: ubuntu-latest
    if: |
      (github.event_name == 'push') ||
      (github.event_name == 'pull_request' && github.event.pull_request.head.repo.fork)
    steps:
      - name : Debug
        env : { GITHUB : "${{ toJson(github) }}" }
        run: echo "$GITHUB" | jq

      - name: Quick debug
        env : { REPO : "${{ toJson(github.event.pull_request.head.repo) }}" }
        run: |
          echo ${{ github.event_name }}
          echo ${{ github.event.pull_request.head.repo.fork }}
          echo "$REPO" | jq

      - name: is push
        if: github.event_name == 'push'
        run: true

      - name: is pull_request
        if: github.event_name == 'pull_request'
        run: true

      - name: is from fork
        if: github.event.pull_request.head.repo.fork
        run: true

      - name: ðŸš¦ Test
        run: echo "Running tests" && true
